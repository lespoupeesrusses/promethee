<script type="text/ng-template" id="promethee/write/component/details">
  <div
    ng-controller="DetailsController"
    ng-click="inspect(component, $event)"
    class="promethee-editor__component promethee-editor__component--details"
  >
    <div class="promethee-editor__component-selected" ng-class="{'promethee-editor__component-selected--visible': promethee.inspected === component}">
      <div class="promethee-editor__toolbar">
        Details
        <ng-include src="'promethee/write/toolbar'"></ng-include>
      </div>

      <details>
        <summary>{{component.attributes.summary}}</summary>
        <ng-include src="'promethee/write/components'"></ng-include>

        <span
          type="button"
          class="btn btn-default btn-block"
          ng-click="addComponentTo(component.children)"
        >
          Add component
        </span>
      </details>
    </div>
  </div>
</script>

<script>
  angular.injector(['ng', 'Promethee']).get('definitions').push({
    name: 'Details',
    thumb: 'http://via.placeholder.com/300x200',
    data: {
      type: 'details',
      children: [],
      attributes: {
        summary: 'Edit me'
      }
    }
  });

  promethee.controller('DetailsController', ['$scope', function($scope) {
    $scope.options = {
      toolbar: [
        ['headline', ['style']],
        ['style', ['bold', 'italic']],
        ['alignment', ['ul', 'ol', 'paragraph']],
        ['code', ['codeview']]
      ]
    };
  }]);
</script>
