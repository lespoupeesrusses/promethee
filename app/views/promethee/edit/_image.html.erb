<script type="text/ng-template" id="promethee/image">
  <div ng-controller="Image as image" ng-init="image.data = data;image.siblings = siblings" style="position: relative">
    <div dnd-draggable="image.data" dnd-moved="siblings.splice(siblings.indexOf(image.data), 1)" class="promethee-editor__component promethee-editor__component--image promethee-editor__component--final">
      <div class="promethee-editor__toolbar">
        Image
        <span ng-if="image.editing" ng-click="image.editing = false" class="promethee-editor__button pull-right"><%= fa_icon :close %></span>
      </div>

      <div ng-if="image.editing" class="panel panel-default" style="width: 90%;max-width: 300px;position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);">
        <div class="panel-body">
          <div class="form-group">
            <label class="label-control">Url</label>
            <input ng-model="image.data.attributes.src" class="form-control" type="text"/>
          </div>

          <div class="form-group">
            <label class="label-control">Alt</label>
            <input ng-model="image.data.attributes.alt" class="form-control" type="text"/>
          </div>
        </div>
      </div>

      <img ng-click="image.editing = true" ng-src="{{image.data.attributes.src}}" class="img-responsive">
    </div>
  </div>
</script>

<script>
  Promethee.Controller.for('Image', function($scope) {
    $scope.models = {
      selected: null,
      lists: { hey: []}
    }
  });
</script>
